{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing notes, including creating, listing, retrieving by ID, updating, deleting, archiving, and searching notes using FastAPI. It interacts with an in-memory notes repository and uses Pydantic models for data validation.", "external_files": ["...repository/notes_repository", "...models/schemas"], "external_methods": ["repo.create", "repo.list", "repo.get", "repo.update", "repo.delete", "repo.set_archived", "repo.search"], "published": ["create_note", "list_notes", "get_note", "update_note", "delete_note", "archive_note", "search_notes"], "classes": [{"name": "SearchQuery", "description": "Model to validate search query parameters internally, with optional full text search, tag filter, and archived status."}], "methods": [{"name": "NoteOut create_note(payload: NoteCreate)", "description": "Creates a new note using data validated by NoteCreate schema, returns the created note with ID and timestamps.", "scope": "", "scopeKind": ""}, {"name": "List[NoteOut] list_notes( archived: Optional[bool] = Query(default=None, description=\"Filter by archived status\"), )", "description": "Retrieves a list of notes, optionally filtered by archived status.", "scope": "", "scopeKind": ""}, {"name": "NoteOut get_note(note_id: UUID)", "description": "Retrieves a specific note by its UUID. Raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "NoteOut update_note(note_id: UUID, payload: NoteUpdate)", "description": "Updates a note identified by UUID with provided data. Raises 404 if note doesn't exist.", "scope": "", "scopeKind": ""}, {"name": "None delete_note(note_id: UUID)", "description": "Deletes a note specified by UUID. Raises 404 if note not found.", "scope": "", "scopeKind": ""}, {"name": "NoteOut archive_note( note_id: UUID, archived: bool = Query(..., description=\"Set to true to archive, false to unarchive\"), )", "description": "Sets a note's archived status to true or false. Raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "List[NoteOut] search_notes( q: Optional[str] = Query(default=None, description=\"Search string for title and content\"), tag: Optional[str] = Query(default=None, description=\"Filter by one tag\"), archived: Optional[bool] = Query(default=None, description=\"Filter by archived status\"), )", "description": "Performs a full-text search over notes, with optional tag filtering and archived status filtering.", "scope": "", "scopeKind": ""}], "calls": ["repo.create", "repo.list", "repo.get", "repo.update", "repo.delete", "repo.set_archived", "repo.search"], "search-terms": ["FastAPI notes router", "in-memory notes repository", "CRUD endpoints for notes", "search notes API", "archive toggle endpoint"], "state": 2, "file_id": 5, "knowledge_revision": 14, "git_revision": "", "ctags": [{"_type": "tag", "name": "SearchQuery", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^class SearchQuery(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "archive_note", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def archive_note($/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "( note_id: UUID, archived: bool = Query(..., description=\"Set to true to archive, false to unarchive\"), )"}, {"_type": "tag", "name": "archived", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^    archived: Optional[bool] = Field(default=None, description=\"Filter by archived status\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "SearchQuery", "scopeKind": "class"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def create_note(payload: NoteCreate) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(payload: NoteCreate)"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def delete_note(note_id: UUID) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(note_id: UUID)"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def get_note(note_id: UUID) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: UUID)"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def list_notes($/", "language": "Python", "typeref": "typename:List[NoteOut]", "kind": "function", "signature": "( archived: Optional[bool] = Query(default=None, description=\"Filter by archived status\"), )"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^    q: Optional[str] = Field(default=None, description=\"Full text search in title and content\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SearchQuery", "scopeKind": "class"}, {"_type": "tag", "name": "repo", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^repo = InMemoryNotesRepository()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "search_notes", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def search_notes($/", "language": "Python", "typeref": "typename:List[NoteOut]", "kind": "function", "signature": "( q: Optional[str] = Query(default=None, description=\"Search string for title and content\"), tag: Optional[str] = Query(default=None, description=\"Filter by one tag\"), archived: Optional[bool] = Query(default=None, description=\"Filter by archived status\"), )"}, {"_type": "tag", "name": "tag", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^    tag: Optional[str] = Field(default=None, description=\"Filter by a single tag\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SearchQuery", "scopeKind": "class"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/smart-notes-manager-37664-37674/notes_backend/src/api/routers/notes.py", "pattern": "/^def update_note(note_id: UUID, payload: NoteUpdate) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: UUID, payload: NoteUpdate)"}], "hash": "b4f4baf89a50b94a7be3af7d08d25d4d", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/routers/notes.py", "fields": [{"name": "Optional[bool] archived", "scope": "SearchQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] q", "scope": "SearchQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "repo = InMemoryNotesRepository()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] tag", "scope": "SearchQuery", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"14": ""}]}